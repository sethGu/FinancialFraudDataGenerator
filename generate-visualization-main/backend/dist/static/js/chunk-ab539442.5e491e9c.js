(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab539442"],{"974b":function(t,a,e){"use strict";e("c333")},c333:function(t,a,e){},fdc3:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"abnormal-header"},[e("el-form",{ref:"form",attrs:{id:"abnormalAllForm",inline:!0,rules:t.rules,model:t.form,"label-width":"100px"}},[e("div",{staticClass:"shortLong"},[e("el-form-item",{attrs:{id:"userAmount",label:"用户数量"}},[e("el-input-number",{attrs:{"controls-position":"right",min:20},model:{value:t.userAmount,callback:function(a){t.userAmount=a},expression:"userAmount"}})],1),e("el-form-item",{attrs:{id:"storeAmount",label:"商户数量"}},[e("el-input-number",{attrs:{"controls-position":"right",min:10},model:{value:t.storeAmount,callback:function(a){t.storeAmount=a},expression:"storeAmount"}})],1),e("el-form-item",{staticClass:"abnormalGang",attrs:{label:"团伙数量"}},[e("el-input-number",{attrs:{min:1},model:{value:t.form.gang,callback:function(a){t.$set(t.form,"gang",a)},expression:"form.gang"}})],1)],1),e("div",{staticClass:"durationDate"},[e("el-form-item",{attrs:{label:"生成周期"}},[e("el-popover",{attrs:{placement:"top-start",title:"提示",width:"200",trigger:"hover",content:"至少30天"}},[e("el-input-number",{attrs:{slot:"reference","controls-position":"right",min:11,disabled:t.btnDisabled},slot:"reference",model:{value:t.form.duration,callback:function(a){t.$set(t.form,"duration",a)},expression:"form.duration"}})],1)],1),e("el-form-item",{attrs:{label:"选择时间",prop:"startDate"}},[e("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择开始日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyyMMdd","picker-options":t.pickerOptions,disabled:t.btnDisabled},model:{value:t.form.startDate,callback:function(a){t.$set(t.form,"startDate",a)},expression:"form.startDate"}})],1)],1),e("el-checkbox-group",{staticClass:"checkData",model:{value:t.checkList,callback:function(a){t.checkList=a},expression:"checkList"}},[e("el-checkbox",{attrs:{label:"正常交易数据生成",border:"",size:"big"},on:{change:t.tranC}})],1),e("div",{staticClass:"registerGebtn"},[e("el-button",{attrs:{type:"primary",round:"",size:"large"},on:{click:function(a){return t.create()}}},[t._v("数据生成")]),e("el-button",{attrs:{type:"default",round:"",size:"large"},on:{click:function(a){return t.reset()}}},[t._v("参数重置")]),e("el-button",{attrs:{type:"default",round:"",size:"large"},on:{click:function(a){return t.download()}}},[t._v("数据下载")]),e("el-button",{attrs:{type:"danger",round:"",size:"large"},on:{click:function(a){return t.deleteData()}}},[t._v("数据删除")])],1)],1)],1),t._m(0),t._m(1),t._m(2),t._m(3)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-container",staticStyle:{width:"25%"}},[e("div",{staticClass:"chart",staticStyle:{height:"200px",width:"100%",padding:"5px"},attrs:{id:"chartCard"}}),e("div",{staticClass:"chart",staticStyle:{height:"200px",width:"100%",padding:"5px"},attrs:{id:"chartAbnormalTrans"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-container",staticStyle:{width:"75%"}},[e("div",{staticClass:"chart",staticStyle:{height:"400px",width:"100%",padding:"5px"},attrs:{id:"chartStoreBig"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-container",staticStyle:{width:"25%"}},[e("div",{staticClass:"chart",staticStyle:{height:"500px",width:"100%",padding:"5px"},attrs:{id:"chartUserAge"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-container",staticStyle:{width:"75%"}},[e("div",{staticClass:"chart",staticStyle:{height:"250px",width:"100%",padding:"5px"},attrs:{id:"chartFraud"}}),e("div",{staticClass:"chart",staticStyle:{height:"250px",width:"100%",padding:"5px"},attrs:{id:"chartTrans"}})])}],n=e("5530"),o=(e("b0c0"),e("d3b7"),e("159b"),e("313e")),i=e("2f62"),l=e("5c96"),c={data:function(){return{radio1:2,radio2:2,btnDisabled:!1,userAmount:50,storeAmount:10,is_con:!1,is_tran:!1,checkList:[],store:{totaldata:[],totalvalue:[],parantClassdata:[],parantClassvalue:[],childClassdata:[],childClassvalue:[],dictClass:[]},cardsOwnerType:[],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},rules:{startDate:[{required:!0,message:"请选择日期",trigger:"blur"}]},form:{gang:1,startDate:"20221001",duration:30}}},computed:Object(n["a"])({},Object(i["b"])(["abnormal_user_data","abnormal_store_data","abnormal_card_data","abnormal_consume_data","abnormal_transfer_data","abnormal_date_data","abnormal_data"])),beforeCreate:function(){var t=this;this.$store.dispatch("abnormalTrans/durationSetAbnormal").then((function(){t.form.startDate=t.$store.state.abnormalTrans.abnormal_date_data.startDate,t.form.duration=t.$store.state.abnormalTrans.abnormal_date_data.duration}))},created:function(){this.init()},methods:{conC:function(t){this.is_con=t},tranC:function(t){this.is_tran=t},dispatchCon:function(){return this.is_con?this.$store.dispatch("abnormalTrans/consumeGenerateAbnormal",{date:this.form.startDate,duration:this.form.duration}):this.$store.dispatch("abnormalTrans/consumeInitAbnormal",{date:this.form.startDate,duration:this.form.duration})},dispatchTran:function(){return this.is_tran?this.$store.dispatch("abnormalTrans/transferGenerateAbnormal",{date:this.form.startDate,duration:this.form.duration}):this.$store.dispatch("abnormalTrans/transferInitAbnormal",{date:this.form.startDate,duration:this.form.duration})},reset:function(){this.userAmount=50,this.storeAmount=10,this.is_con=!1,this.is_tran=!1,this.checkList.pop(),this.checkList.pop(),this.form.gang=1,this.form.startDate="20221001",this.form.duration=30},deleteData:function(){var t=this;this.$confirm("是否删除数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除数据成功!"}),t.$store.dispatch("abnormalTrans/abnormalRecreateTable").then((function(t){}))})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))},download:function(){window.location.href="/api_abnormal/abnormal/download/"},init:function(){var t=this;this.$store.dispatch("abnormalTrans/userInitAbnormal",50).then((function(){t.showUserAge(),t.$store.dispatch("abnormalTrans/storeInitAbnormal",10).then((function(){t.showChartStoreBig(),t.$store.dispatch("abnormalTrans/cardInitAbnormal","1").then((function(){t.showChartCard(),t.$store.dispatch("abnormalTrans/transferInitAbnormal").then((function(){t.showChartTrans(),t.$store.dispatch("abnormalTrans/abnormalInit").then((function(a){t.showChartAbnormalTrans(),t.showChartFraud()}))}))}))}))}))},create:function(){var t=this;this.$refs.form.validate((function(a){if(!a)return!1;t.$confirm("是否生成数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"生成数据成功!"});var a=l["Loading"].service({target:document.querySelector("#chartUserAge"),fullscreen:!1}),e=l["Loading"].service({target:document.querySelector("#chartStoreBig"),fullscreen:!1}),r=l["Loading"].service({target:document.querySelector("#chartCard"),fullscreen:!1}),s=l["Loading"].service({target:document.querySelector("#chartAbnormalTrans"),fullscreen:!1}),n=l["Loading"].service({target:document.querySelector("#chartFraud"),fullscreen:!1}),o=l["Loading"].service({target:document.querySelector("#chartTrans"),fullscreen:!1});t.$store.dispatch("abnormalTrans/durationChooseAbnormal",{startDate:t.form.startDate,duration:t.form.duration}).then((function(){t.$store.dispatch("abnormalTrans/userGenerateAbnormal",50).then((function(){a.close(),t.showUserAge(),t.$store.dispatch("abnormalTrans/storeGenerateAbnormal",10).then((function(){e.close(),t.showChartStoreBig(),t.$store.dispatch("abnormalTrans/cardGenerateAbnormal","1").then((function(){r.close(),t.showChartCard(),t.dispatchCon().then((function(){t.dispatchTran().then((function(){o.close(),t.showChartTrans(),t.$store.dispatch("abnormalTrans/abnormalGenerate",t.form).then((function(a){s.close(),n.close(),t.showChartAbnormalTrans(),t.showChartFraud()}))}))}))}))}))}))}))})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))}))},showUserAge:function(){this.chart=o["a"](document.getElementById("chartUserAge"));var t={backgroundColor:"rgba(128, 128, 128, 0.1)",title:{text:"用户年龄分布",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},dataZoom:[{height:15,show:!1,realtime:!0,start:35,end:65},{type:"inside",realtime:!0,start:35,end:65}],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",name:"年龄",data:this.abnormal_user_data["user_age_data_1"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",name:"人数",nameGap:"15"}],color:["#00437C"],series:[{name:"人数",type:"bar",barWidth:"60%",data:this.abnormal_user_data["user_age_data_2"]}]};this.chart.setOption(t)},showChartStoreBig:function(){var t=this,a=[],e=[];this.abnormal_store_data["data_1"].forEach((function(t){var r=t[0],s=t[1];a.push(r),e.push(s)})),(a.length>0||e.length>0)&&(this.store.parantClassdata=a,this.store.parantClassvalue=e,this.store.parantClassdata.forEach((function(a){t.store.totaldata.push(a)})),this.store.parantClassvalue.forEach((function(a){t.store.totalvalue.push(a)})),this.store.parantClassdata.forEach((function(a,e){t.store.dictClass.push({value:t.store.parantClassvalue[e],name:a})})));var r=[],s=[];this.abnormal_store_data["data_2"].forEach((function(t){var a=t[0],e=t[1];r.push(a),s.push(e)})),(r.length>0||s.length>0)&&(this.store.childClassdata=r,this.store.childClassvalue=s,this.store.childClassdata.forEach((function(a){t.store.totaldata.push(a)})),this.store.childClassvalue.forEach((function(a){t.store.totalvalue.push(a)}))),this.chart=o["a"](document.getElementById("chartStoreBig"));var n=["#007D85","#00437C"],i={title:{text:"商户规模分布",left:"center",padding:10},backgroundColor:"rgba(128, 128, 128, 0.1)",color:n,tooltip:{trigger:"none",axisPointer:{type:"cross"}},legend:{top:"8%"},grid:{top:90,bottom:50},dataZoom:[{show:!1,height:5,xAxisIndex:[0],bottom:30,start:10,end:80,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:5,start:1,end:35}],xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:n[1]}},axisPointer:{label:{formatter:function(t){return"行业大类数量  "+t.value+(t.seriesData.length?"："+t.seriesData[0].data:"")}}},data:this.store.parantClassdata},{type:"category",axisTick:{alignWithLabel:!0},axisLine:{onZero:!1,lineStyle:{color:n[0]}},axisPointer:{label:{formatter:function(t){return"行业子类数量  "+t.value+(t.seriesData.length?"："+t.seriesData[0].data:"")}}},data:this.store.childClassdata}],yAxis:[{type:"value",name:"数量(个)",nameGap:"30"}],series:[{name:"行业子类",type:"line",xAxisIndex:1,smooth:!0,emphasis:{focus:"series"},data:this.store.childClassvalue},{name:"行业大类",type:"line",smooth:!0,emphasis:{focus:"series"},data:this.store.parantClassvalue}]};this.chart.setOption(i)},showChartCard:function(){var t=[];this.abnormal_card_data.forEach((function(a){var e={value:a.value,name:a.name};t.push(e)})),t.length>0&&(this.cardsOwnerType=t),this.chart=o["a"](document.getElementById("chartCard"));var a={backgroundColor:"rgba(128, 128, 128, 0.1)",title:{text:"银行卡规模分布",left:"center"},tooltip:{trigger:"item"},legend:{orient:"horizontal",bottom:"bottom",itemWidth:15,itemHeight:15,itemGap:10},color:["#00437C","#007D85"],series:[{name:"银行卡数量",type:"pie",radius:"60%",label:{show:!1,position:"center"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:this.cardsOwnerType}]};this.chart.setOption(a)},showChartAbnormalTrans:function(){this.chart=o["a"](document.getElementById("chartAbnormalTrans"));var t={backgroundColor:"rgba(128, 128, 128, 0.1)",title:{text:"交易规模分布",left:"center"},tooltip:{trigger:"item"},legend:{orient:"horizontal",bottom:"bottom",itemWidth:20,itemHeight:20,itemGap:10},color:["#007D85","#FC001B"],series:[{name:"数量",type:"pie",radius:["30%","60%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"25",fontWeight:"bold"}},labelLine:{show:!1},data:this.abnormal_data["data_1"]}]};this.chart.setOption(t)},showChartFraud:function(){this.chart=o["a"](document.getElementById("chartFraud"));var t={backgroundColor:"rgba(128, 128, 128, 0.1)",title:{text:"异常交易",left:"center"},tooltip:{trigger:"axis"},grid:{left:"4%",right:"5%",bottom:"3%",containLabel:!0},dataZoom:[{show:!1,height:5,xAxisIndex:[0],bottom:30,start:10,end:80,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:5,start:1,end:35}],xAxis:{name:"时间",type:"category",boundaryGap:!1,axisLabel:{rotate:45},data:this.abnormal_data["data_2"]["trans_time"]},yAxis:{type:"value",name:"金额(元)"},color:["#FC001B"],series:[{name:"金额(元)",type:"line",stack:"Total",data:this.abnormal_data["data_2"]["trans_amount"]}]};this.chart.setOption(t)},showChartTrans:function(){this.chart=o["a"](document.getElementById("chartTrans"));var t={backgroundColor:"rgba(128, 128, 128, 0.1)",title:{text:"正常交易",left:"center"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},dataZoom:[{show:!1,height:5,xAxisIndex:[0],bottom:30,start:10,end:80,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:5,start:1,end:35}],xAxis:{name:"时间",type:"category",boundaryGap:!1,axisLabel:{rotate:45},data:this.abnormal_transfer_data["trans_time"]},yAxis:{type:"value",name:"金额(元)"},color:["#00437C"],series:[{name:"金额(元)",type:"line",stack:"Total",data:this.abnormal_transfer_data["trans_amount"]}]};this.chart.setOption(t)}}},h=c,d=(e("974b"),e("2877")),u=Object(d["a"])(h,r,s,!1,null,"1c542aa8",null);a["default"]=u.exports}}]);